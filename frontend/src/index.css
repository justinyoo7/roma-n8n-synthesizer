@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #3f3f46;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #52525b;
}

/* Base styles */
body {
  @apply bg-zinc-950 text-zinc-100 antialiased;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

/* React Flow custom styles */
.react-flow__node {
  @apply !bg-transparent !border-none !shadow-none;
}

.react-flow__edge-path {
  stroke-linecap: round;
}

/* Animated edge path with gradient shimmer */
.react-flow__edge.animated .react-flow__edge-path {
  stroke-dasharray: 5;
  animation: flowDash 0.5s linear infinite;
}

@keyframes flowDash {
  from {
    stroke-dashoffset: 10;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* Custom animated flow edge styles */
.react-flow__edge-animatedFlow {
  pointer-events: all;
}

.react-flow__edge-animatedFlow:hover .react-flow__edge-path {
  stroke: #f59e0b;
  filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.5));
}

/* Particle glow effect */
@keyframes particlePulse {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

/* Edge hover highlight */
.react-flow__edge:hover path {
  transition: all 0.2s ease;
}

/* Node connection line animation */
.react-flow__connection-line {
  stroke: #f59e0b !important;
  stroke-width: 2px !important;
  animation: connectionPulse 1s ease-in-out infinite;
}

@keyframes connectionPulse {
  0%, 100% { stroke-opacity: 0.5; }
  50% { stroke-opacity: 1; }
}

/* Handle hover effects */
.react-flow__handle {
  transition: all 0.2s ease !important;
}

.react-flow__handle:hover {
  transform: scale(1.3);
}

.react-flow__background {
  background-color: #09090b !important;
}

.react-flow__controls {
  display: none;
}

.react-flow__minimap {
  display: none;
}

/* Flow animation keyframes */
@keyframes flowGlow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(245, 158, 11, 0.3);
  }
  50% {
    box-shadow: 0 0 15px rgba(245, 158, 11, 0.6);
  }
}

.flow-glow {
  animation: flowGlow 2s ease-in-out infinite;
}

/* Node pulse effect */
@keyframes nodePulse {
  0% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(245, 158, 11, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
  }
}

.node-pulse {
  animation: nodePulse 2s infinite;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out;
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s ease-in-out infinite;
}

/* Animation delays for staggered reveals */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }

/* Animate-in utilities (like Tailwind CSS animate plugin) */
.animate-in {
  animation-duration: 200ms;
  animation-fill-mode: both;
}

.fade-in {
  animation-name: fadeIn;
}

.slide-in-from-right-4 {
  --tw-translate-x: 1rem;
  animation-name: slideInRight;
}

.slide-in-from-top-2 {
  --tw-translate-y: -0.5rem;
  animation-name: slideFromTop;
}

@keyframes slideFromTop {
  from { opacity: 0; transform: translateY(-0.5rem); }
  to { opacity: 1; transform: translateY(0); }
}

/* Focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-amber-500/50 ring-offset-2 ring-offset-zinc-950;
}

/* Selection */
::selection {
  @apply bg-amber-500/30 text-amber-100;
}
